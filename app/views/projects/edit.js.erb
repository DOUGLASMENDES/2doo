replace_project_with_edit_form();

function replace_project_with_edit_form() {
  $('div#<%=dom_id(@project)%>').fadeOut(250, function() {
    show_edit_form();
    set_focus();
    enable_rich_interaction();
  });
}

function show_edit_form() {
  $('div#<%=dom_id(@project, 'edit')%>').html(html_for_edit_form());
  $('div#<%=dom_id(@project, 'edit')%>').fadeIn(500);
}

function set_focus() {
  $('input.project-name').focus();
}

function html_for_edit_form() {
  return "<%= escape_javascript(render(:partial => 'project_form', :object => @project)) %>"
}